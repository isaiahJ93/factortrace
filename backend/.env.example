# ==============================================================================
# FactorTrace Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control
# ==============================================================================

# ------------------------------------------------------------------------------
# Application Settings
# ------------------------------------------------------------------------------
# Environment: development | staging | production
ENVIRONMENT=development

# Application info
APP_NAME=FactorTrace
APP_VERSION=1.0.0

# Logging: DEBUG | INFO | WARNING | ERROR
LOG_LEVEL=INFO

# Debug mode (disable in production)
DEBUG=false

# ------------------------------------------------------------------------------
# Database Configuration
# ------------------------------------------------------------------------------
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://factortrace:factortrace_dev@localhost:5432/factortrace

# For Docker Compose, use service name:
# DATABASE_URL=postgresql://factortrace:factortrace_dev@postgres:5432/factortrace

# Connection pool settings
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30

# PostgreSQL credentials (for Docker Compose)
POSTGRES_USER=factortrace
POSTGRES_PASSWORD=factortrace_dev
POSTGRES_DB=factortrace
POSTGRES_PORT=5432

# ------------------------------------------------------------------------------
# Redis Configuration
# ------------------------------------------------------------------------------
REDIS_URL=redis://localhost:6379/0

# For Docker Compose, use service name:
# REDIS_URL=redis://redis:6379/0

REDIS_PORT=6379
REDIS_POOL_SIZE=10
CACHE_TTL=3600

# ------------------------------------------------------------------------------
# Authentication (REQUIRED)
# ------------------------------------------------------------------------------
# Generate a secure secret: python -c "import secrets; print(secrets.token_urlsafe(64))"
JWT_SECRET=CHANGE_ME_generate_a_secure_64_char_secret_key_here
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7

# General secret key for session encryption
SECRET_KEY=CHANGE_ME_another_secure_64_char_secret_key_here

# ------------------------------------------------------------------------------
# CORS Configuration
# ------------------------------------------------------------------------------
# Comma-separated list of allowed origins
# Use * for development, specific domains for production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000

# ------------------------------------------------------------------------------
# API Configuration
# ------------------------------------------------------------------------------
API_HOST=0.0.0.0
API_PORT=8000

# ------------------------------------------------------------------------------
# Rate Limiting
# ------------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# ------------------------------------------------------------------------------
# Supabase (Optional - for auth/storage)
# ------------------------------------------------------------------------------
# SUPABASE_URL=https://your-project.supabase.co
# SUPABASE_KEY=your-supabase-anon-key

# ------------------------------------------------------------------------------
# Stripe (Optional - for payments)
# ------------------------------------------------------------------------------
# STRIPE_SECRET_KEY=sk_test_...
# STRIPE_PUBLISHABLE_KEY=pk_test_...
# STRIPE_WEBHOOK_SECRET=whsec_...
# STRIPE_PRICE_ID_BASIC=price_...
# STRIPE_PRICE_ID_PRO=price_...

# ------------------------------------------------------------------------------
# Email - SendGrid (Optional)
# ------------------------------------------------------------------------------
# SENDGRID_API_KEY=SG.xxx

# ------------------------------------------------------------------------------
# AWS S3 (Optional - for file storage)
# ------------------------------------------------------------------------------
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET=factortrace-uploads

# ------------------------------------------------------------------------------
# External APIs (Optional)
# ------------------------------------------------------------------------------
# EPA_API_KEY=your-epa-api-key
# ECOINVENT_API_KEY=your-ecoinvent-api-key

# ------------------------------------------------------------------------------
# Monitoring (Optional - for production)
# ------------------------------------------------------------------------------
# SENTRY_DSN=https://xxx@sentry.io/xxx
# PROMETHEUS_ENABLED=true

# ------------------------------------------------------------------------------
# Celery (Optional - for background tasks)
# ------------------------------------------------------------------------------
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------
ENABLE_UNCERTAINTY=true
MONTE_CARLO_ITERATIONS=10000
ENABLE_EXTERNAL_PROVIDERS=true
